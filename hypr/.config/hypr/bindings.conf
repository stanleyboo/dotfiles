# i3-style keybindings for Hyprland
# Based on i3wm defaults: https://i3wm.org/docs/refcard.html

# Unbind conflicting defaults from tiling-v2.conf
unbind = $mainMod, W
unbind = $mainMod, S
unbind = $mainMod, J
unbind = $mainMod, K
unbind = $mainMod, T
unbind = $mainMod, G

# ==========================================
# CORE i3 KEYBINDINGS
# ==========================================

# Terminal (i3: $mod+Return)
bindd = $mainMod, RETURN, Terminal, exec, uwsm-app -- alacritty -e fish

# Application launcher (i3: $mod+d)
bindd = $mainMod, D, Application launcher, exec, rofi -show run

# Kill focused window (i3: $mod+Shift+q)
bindd = $mainMod SHIFT, Q, Kill window, killactive,

# Fullscreen (i3: $mod+f) - already in defaults, but explicit here
unbind = $mainMod, F
bindd = $mainMod, F, Toggle fullscreen, fullscreen, 1

# Toggle floating (i3: $mod+Shift+Space)
bindd = $mainMod SHIFT, SPACE, Toggle floating, togglefloating,

# Toggle split direction (i3: $mod+e for toggle, $mod+v vertical, $mod+h horizontal)
bindd = $mainMod, E, Toggle split orientation, togglesplit,
bindd = $mainMod, V, Split vertical, layoutmsg, preselect d
bindd = $mainMod, B, Split horizontal, layoutmsg, preselect r

# ==========================================
# FOCUS NAVIGATION (vim-style hjkl, popular i3 config)
# ==========================================
bindd = $mainMod, H, Focus left, movefocus, l
bindd = $mainMod, J, Focus down, movefocus, d
bindd = $mainMod, K, Focus up, movefocus, u
bindd = $mainMod, L, Focus right, movefocus, r

# Arrow keys also work (i3 supports both)
bindd = $mainMod, LEFT, Focus left, movefocus, l
bindd = $mainMod, DOWN, Focus down, movefocus, d
bindd = $mainMod, UP, Focus up, movefocus, u
bindd = $mainMod, RIGHT, Focus right, movefocus, r

# Ctrl+hjkl -> arrow keys (app navigation)
bindd = CTRL, H, Ctrl+H -> Left, sendshortcut, , LEFT, activewindow
bindd = CTRL, J, Ctrl+J -> Down, sendshortcut, , DOWN, activewindow
bindd = CTRL, K, Ctrl+K -> Up, sendshortcut, , UP, activewindow
bindd = CTRL, L, Ctrl+L -> Right, sendshortcut, , RIGHT, activewindow

# ==========================================
# MOVE WINDOWS (i3: $mod+Shift+direction)
# ==========================================
bindd = $mainMod SHIFT, H, Move window left, swapwindow, l
bindd = $mainMod SHIFT, J, Move window down, swapwindow, d
bindd = $mainMod SHIFT, K, Move window up, swapwindow, u
bindd = $mainMod SHIFT, L, Move window right, swapwindow, r

# Arrow keys
bindd = $mainMod SHIFT, LEFT, Move window left, swapwindow, l
bindd = $mainMod SHIFT, DOWN, Move window down, swapwindow, d
bindd = $mainMod SHIFT, UP, Move window up, swapwindow, u
bindd = $mainMod SHIFT, RIGHT, Move window right, swapwindow, r

# ==========================================
# WORKSPACES (i3: $mod+[0-9], $mod+Shift+[0-9])
# ==========================================
# Switch workspaces
bindd = $mainMod, 1, Workspace 1, workspace, 1
bindd = $mainMod, 2, Workspace 2, workspace, 2
bindd = $mainMod, 3, Workspace 3, workspace, 3
bindd = $mainMod, 4, Workspace 4, workspace, 4
bindd = $mainMod, 5, Workspace 5, workspace, 5
bindd = $mainMod, 6, Workspace 6, workspace, 6
bindd = $mainMod, 7, Workspace 7, workspace, 7
bindd = $mainMod, 8, Workspace 8, workspace, 8
bindd = $mainMod, 9, Workspace 9, workspace, 9
bindd = $mainMod, 0, Workspace 10, workspace, 10

# Move window to workspace without switching
bind = $mainMod SHIFT, 1, movetoworkspacesilent, 1
bind = $mainMod SHIFT, 2, movetoworkspacesilent, 2
bind = $mainMod SHIFT, 3, movetoworkspacesilent, 3
bind = $mainMod SHIFT, 4, movetoworkspacesilent, 4
bind = $mainMod SHIFT, 5, movetoworkspacesilent, 5
bind = $mainMod SHIFT, 6, movetoworkspacesilent, 6
bind = $mainMod SHIFT, 7, movetoworkspacesilent, 7
bind = $mainMod SHIFT, 8, movetoworkspacesilent, 8
bind = $mainMod SHIFT, 9, movetoworkspacesilent, 9

# ==========================================
# VOLUME CONTROL
# ==========================================
bindeld = $mainMod SHIFT, minus, Volume down, exec, wpctl set-volume @DEFAULT_AUDIO_SINK@ 5%-
bindeld = $mainMod SHIFT, equal, Volume up, exec, wpctl set-volume @DEFAULT_AUDIO_SINK@ 5%+
bindd = $mainMod, backslash, Toggle mute, exec, wpctl set-mute @DEFAULT_AUDIO_SINK@ toggle

# ==========================================
# SESSION MANAGEMENT (i3: $mod+Shift+e exit, $mod+Shift+r restart, $mod+Shift+c reload)
# ==========================================
bindd = $mainMod SHIFT, E, Exit Hyprland, exit,
bindd = $mainMod SHIFT, R, Reload Hyprland, exec, hyprctl reload
bindd = $mainMod SHIFT, C, Reload config, exec, hyprctl reload

# ==========================================
# QUICK RESIZE (width only)
# ==========================================
bindde = $mainMod, minus, Shrink window width, resizeactive, -50 0
bindde = $mainMod, equal, Grow window width, resizeactive, 50 0

# ==========================================
# RESIZE MODE (i3: $mod+r enters resize mode)
# ==========================================
bindd = $mainMod, R, Enter resize mode, submap, resize

# Resize submap
submap = resize
binded = , H, Shrink width, resizeactive, -50 0
binded = , J, Grow height, resizeactive, 0 50
binded = , K, Shrink height, resizeactive, 0 -50
binded = , L, Grow width, resizeactive, 50 0
binded = , LEFT, Shrink width, resizeactive, -50 0
binded = , DOWN, Grow height, resizeactive, 0 50
binded = , UP, Shrink height, resizeactive, 0 -50
binded = , RIGHT, Grow width, resizeactive, 50 0
# Exit resize mode (i3: Escape or Return)
bind = , ESCAPE, submap, reset
bind = , RETURN, submap, reset
submap = reset

# ==========================================
# ADDITIONAL USEFUL BINDINGS
# ==========================================

# Stacking/Tabbed equivalent - Hyprland groups (i3: $mod+s stacked, $mod+w tabbed)
bindd = $mainMod, W, Toggle group (tabbed), togglegroup,
bindd = $mainMod, S, Group next window, changegroupactive, f

# Mouse bindings (same as i3)
bindmd = $mainMod, mouse:272, Move window, movewindow
bindmd = $mainMod, mouse:273, Resize window, resizewindow

# ==========================================
# BRIGHTNESS CONTROL
# ==========================================
bindeld = $mainMod, bracketleft, Brightness down, exec, brightnessctl set 5%-
bindeld = $mainMod, bracketright, Brightness up, exec, brightnessctl set 5%+
bindeld = $mainMod SHIFT, bracketleft, Brightness down (fine), exec, brightnessctl set 1%-
bindeld = $mainMod SHIFT, bracketright, Brightness up (fine), exec, brightnessctl set 1%+

# ==========================================
# APPLICATION SHORTCUTS (keeping your custom ones)
# ==========================================
bindd = $mainMod SHIFT, F, File manager, exec, uwsm-app -- nautilus --new-window
bindd = $mainMod SHIFT, B, Browser, exec, uwsm-app -- firefox
bindd = $mainMod SHIFT ALT, B, Browser (private), exec, uwsm-app -- firefox --private-window
bindd = $mainMod SHIFT, M, Music, exec, uwsm-app -- spotify
bindd = $mainMod SHIFT, N, Editor, exec, uwsm-app -- code
bindd = $mainMod SHIFT, O, Obsidian, exec, uwsm-app -- obsidian
bindd = $mainMod SHIFT, SLASH, Passwords, exec, uwsm-app -- 1password

# Web apps (open in browser)
bindd = $mainMod SHIFT, A, ChatGPT, exec, uwsm-app -- firefox https://chatgpt.com
bindd = $mainMod SHIFT, Y, YouTube, exec, uwsm-app -- firefox https://youtube.com/
bindd = $mainMod SHIFT, X, X, exec, uwsm-app -- firefox https://x.com/

# ==========================================
# QUICK ACCESS
# ==========================================
bindd = $mainMod, N, Open todo, exec, uwsm-app -- alacritty -e nvim ~/OneDrive/to_do.md
bindd = $mainMod, M, Linux notes, exec, uwsm-app -- alacritty -e nvim ~/OneDrive/projects/linux/linux_notes.md

# ==========================================
# SCREENSHOTS (using grim + slurp)
# ==========================================
# Full screen to clipboard
bindd = $mainMod, grave, Screenshot to clipboard, exec, grim - | wl-copy
# Full screen to file
bindd = $mainMod ALT, grave, Screenshot to file, exec, grim ~/Pictures/Screenshots/$(date +%Y%m%d_%H%M%S).png
# Region select to clipboard
bindd = $mainMod SHIFT, grave, Screenshot region to clipboard, exec, grim -g "$(slurp)" - | wl-copy
# Region select to file
bindd = $mainMod SHIFT ALT, grave, Screenshot region to file, exec, grim -g "$(slurp)" ~/Pictures/Screenshots/$(date +%Y%m%d_%H%M%S).png
