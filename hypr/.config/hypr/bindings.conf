# i3-style keybindings for Hyprland
# Based on i3wm defaults: https://i3wm.org/docs/refcard.html

# Unbind conflicting defaults from tiling-v2.conf
unbind = SUPER, W
unbind = SUPER, S
unbind = SUPER, J
unbind = SUPER, K
unbind = SUPER, T
unbind = SUPER, G

# ==========================================
# CORE i3 KEYBINDINGS
# ==========================================

# Terminal (i3: $mod+Return)
bindd = SUPER, RETURN, Terminal, exec, uwsm-app -- alacritty -e fish

# Application launcher (i3: $mod+d)
bindd = SUPER, D, Application launcher, exec, rofi -show drun

# Kill focused window (i3: $mod+Shift+q)
bindd = SUPER SHIFT, Q, Kill window, killactive,

# Fullscreen (i3: $mod+f) - already in defaults, but explicit here
unbind = SUPER, F
bindd = SUPER, F, Toggle fullscreen, fullscreen, 1

# Toggle floating (i3: $mod+Shift+Space)
bindd = SUPER SHIFT, SPACE, Toggle floating, togglefloating,

# Toggle split direction (i3: $mod+e for toggle, $mod+v vertical, $mod+h horizontal)
bindd = SUPER, E, Toggle split orientation, togglesplit,
bindd = SUPER, V, Split vertical, layoutmsg, preselect d
bindd = SUPER, B, Split horizontal, layoutmsg, preselect r

# ==========================================
# FOCUS NAVIGATION (vim-style hjkl, popular i3 config)
# ==========================================
bindd = SUPER, H, Focus left, movefocus, l
bindd = SUPER, J, Focus down, movefocus, d
bindd = SUPER, K, Focus up, movefocus, u
bindd = SUPER, L, Focus right, movefocus, r

# Arrow keys also work (i3 supports both)
bindd = SUPER, LEFT, Focus left, movefocus, l
bindd = SUPER, DOWN, Focus down, movefocus, d
bindd = SUPER, UP, Focus up, movefocus, u
bindd = SUPER, RIGHT, Focus right, movefocus, r

# ==========================================
# MOVE WINDOWS (i3: $mod+Shift+direction)
# ==========================================
bindd = SUPER SHIFT, H, Move window left, swapwindow, l
bindd = SUPER SHIFT, J, Move window down, swapwindow, d
bindd = SUPER SHIFT, K, Move window up, swapwindow, u
bindd = SUPER SHIFT, L, Move window right, swapwindow, r

# Arrow keys
bindd = SUPER SHIFT, LEFT, Move window left, swapwindow, l
bindd = SUPER SHIFT, DOWN, Move window down, swapwindow, d
bindd = SUPER SHIFT, UP, Move window up, swapwindow, u
bindd = SUPER SHIFT, RIGHT, Move window right, swapwindow, r

# ==========================================
# WORKSPACES (i3: $mod+[0-9], $mod+Shift+[0-9])
# ==========================================
# Switch workspaces
bindd = SUPER, 1, Workspace 1, workspace, 1
bindd = SUPER, 2, Workspace 2, workspace, 2
bindd = SUPER, 3, Workspace 3, workspace, 3
bindd = SUPER, 4, Workspace 4, workspace, 4
bindd = SUPER, 5, Workspace 5, workspace, 5
bindd = SUPER, 6, Workspace 6, workspace, 6
bindd = SUPER, 7, Workspace 7, workspace, 7
bindd = SUPER, 8, Workspace 8, workspace, 8
bindd = SUPER, 9, Workspace 9, workspace, 9
bindd = SUPER, 0, Workspace 10, workspace, 10

# Move window to workspace without switching
bind = SUPER SHIFT, 1, movetoworkspacesilent, 1
bind = SUPER SHIFT, 2, movetoworkspacesilent, 2
bind = SUPER SHIFT, 3, movetoworkspacesilent, 3
bind = SUPER SHIFT, 4, movetoworkspacesilent, 4
bind = SUPER SHIFT, 5, movetoworkspacesilent, 5
bind = SUPER SHIFT, 6, movetoworkspacesilent, 6
bind = SUPER SHIFT, 7, movetoworkspacesilent, 7
bind = SUPER SHIFT, 8, movetoworkspacesilent, 8
bind = SUPER SHIFT, 9, movetoworkspacesilent, 9

# ==========================================
# VOLUME CONTROL
# ==========================================
bindeld = SUPER SHIFT, minus, Volume down, exec, wpctl set-volume @DEFAULT_AUDIO_SINK@ 5%-
bindeld = SUPER SHIFT, equal, Volume up, exec, wpctl set-volume @DEFAULT_AUDIO_SINK@ 5%+
bindd = SUPER, backslash, Toggle mute, exec, wpctl set-mute @DEFAULT_AUDIO_SINK@ toggle

# ==========================================
# SESSION MANAGEMENT (i3: $mod+Shift+e exit, $mod+Shift+r restart, $mod+Shift+c reload)
# ==========================================
bindd = SUPER SHIFT, E, Exit/logout menu, exec, omarchy-menu system
bindd = SUPER SHIFT, R, Reload Hyprland, exec, hyprctl reload
bindd = SUPER SHIFT, C, Reload config, exec, hyprctl reload

# ==========================================
# RESIZE MODE (i3: $mod+r enters resize mode)
# ==========================================
bindd = SUPER, R, Enter resize mode, submap, resize

# Resize submap
submap = resize
binded = , H, Shrink width, resizeactive, -50 0
binded = , J, Grow height, resizeactive, 0 50
binded = , K, Shrink height, resizeactive, 0 -50
binded = , L, Grow width, resizeactive, 50 0
binded = , LEFT, Shrink width, resizeactive, -50 0
binded = , DOWN, Grow height, resizeactive, 0 50
binded = , UP, Shrink height, resizeactive, 0 -50
binded = , RIGHT, Grow width, resizeactive, 50 0
# Exit resize mode (i3: Escape or Return)
bind = , ESCAPE, submap, reset
bind = , RETURN, submap, reset
submap = reset

# ==========================================
# ADDITIONAL USEFUL BINDINGS
# ==========================================

# Stacking/Tabbed equivalent - Hyprland groups (i3: $mod+s stacked, $mod+w tabbed)
bindd = SUPER, W, Toggle group (tabbed), togglegroup,
bindd = SUPER, S, Group next window, changegroupactive, f

# Mouse bindings (same as i3)
bindmd = SUPER, mouse:272, Move window, movewindow
bindmd = SUPER, mouse:273, Resize window, resizewindow

# ==========================================
# BRIGHTNESS CONTROL
# ==========================================
bindeld = SUPER, bracketleft, Brightness down, exec, brightnessctl set 5%-
bindeld = SUPER, bracketright, Brightness up, exec, brightnessctl set 5%+
bindeld = SUPER SHIFT, bracketleft, Brightness down (fine), exec, brightnessctl set 1%-
bindeld = SUPER SHIFT, bracketright, Brightness up (fine), exec, brightnessctl set 1%+

# ==========================================
# APPLICATION SHORTCUTS (keeping your custom ones)
# ==========================================
bindd = SUPER SHIFT, F, File manager, exec, uwsm-app -- nautilus --new-window
bindd = SUPER SHIFT, B, Browser, exec, omarchy-launch-browser
bindd = SUPER SHIFT ALT, B, Browser (private), exec, omarchy-launch-browser --private
bindd = SUPER SHIFT, M, Music, exec, omarchy-launch-or-focus spotify
bindd = SUPER SHIFT, N, Editor, exec, omarchy-launch-editor
bindd = SUPER SHIFT, O, Obsidian, exec, omarchy-launch-or-focus ^obsidian$ "uwsm-app -- obsidian -disable-gpu --enable-wayland-ime"
bindd = SUPER SHIFT, SLASH, Passwords, exec, uwsm-app -- 1password

# Web apps
bindd = SUPER SHIFT, A, ChatGPT, exec, omarchy-launch-webapp "https://chatgpt.com"
bindd = SUPER SHIFT, Y, YouTube, exec, omarchy-launch-webapp "https://youtube.com/"
bindd = SUPER SHIFT, X, X, exec, omarchy-launch-webapp "https://x.com/"

# ==========================================
# QUICK ACCESS
# ==========================================
bindd = SUPER, N, Open todo, exec, uwsm-app -- alacritty -e nvim ~/OneDrive/to_do.md
bindd = SUPER, M, Linux notes, exec, uwsm-app -- alacritty -e nvim ~/OneDrive/projects/linux/linux_notes.md

# ==========================================
# SCREENSHOTS (using grim + slurp)
# ==========================================
# Full screen to clipboard
bindd = SUPER, grave, Screenshot to clipboard, exec, grim - | wl-copy
# Full screen to file
bindd = SUPER ALT, grave, Screenshot to file, exec, grim ~/Pictures/Screenshots/$(date +%Y%m%d_%H%M%S).png
# Region select to clipboard
bindd = SUPER SHIFT, grave, Screenshot region to clipboard, exec, grim -g "$(slurp)" - | wl-copy
# Region select to file
bindd = SUPER SHIFT ALT, grave, Screenshot region to file, exec, grim -g "$(slurp)" ~/Pictures/Screenshots/$(date +%Y%m%d_%H%M%S).png
